{# templates/backend/control_panel/export_translation.html.twig #}
{% extends '@!EasyAdmin/page/content.html.twig' %}

{% block head_stylesheets %}
    {{ parent() }}
    <style>
        .card-header { background-color: #f8f9fa; font-weight: 500; }
        .btn-primary { background-color: #0d6efd; border-color: #0d6efd; }
        .alert { margin-bottom: 1.5rem; }
    </style>
{% endblock head_stylesheets %}

{% block page_title %}
    {{ 'backend.operation.exportTranslation.title'|trans }}
{% endblock page_title %}

{% block content_title %}
    <h1 class="mb-4">{{ 'backend.operation.exportTranslation.title'|trans }}</h1>
{% endblock content_title %}

{% block main %}
    <div class="container">
        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="alert alert-{{ label }} alert-dismissible fade show" role="alert">
                    {{ message|trans }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        {% endfor %}

        <div class="card shadow-sm">
            <div class="card-body">
                <p class="text-muted mb-4">{{ 'backend.operation.exportTranslation.explanation'|trans }}</p>
                {% if exportTranslationContent is defined %}
                    <div class="alert alert-success">
                        {{ 'backend.operation.exportTranslation.exportTranslationDone'|trans }}
                    </div>
                    <pre class="bg-light p-3 rounded">{{ exportTranslationContent }}</pre>
                {% else %}
                    <form method="post" action="{{ path('admin_control_panel_export_translation') }}">
                        <button type="submit" class="btn btn-primary">
                            {{ 'backend.operation.exportTranslation'|trans }}
                        </button>
                    </form>
                {% endif %}
            </div>
            <div class="card-footer">
			                <a href="{{ path('lexik_translation_grid') }}" class="btn btn-sm btn-outline-secondary">
                    {{ 'backend.operation.goToStaticTranslation'|trans }}
                </a>
            </div>
        </div>
    </div>
{% endblock main %}

{% block body_javascript %}
{% endblock body_javascript %}